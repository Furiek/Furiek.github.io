---
title: 1. Animals-10 Classifier
layout: page
---
<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { Client } from "@gradio/client";

  async function readAndPredict() {
    try {
      const fileInput = document.getElementById("photo");
      if (!fileInput.files[0]) {
        throw new Error("No file selected.");
      }

      const client = await Client.connect("Furiek/animal_detector");

      const file = fileInput.files[0];
      const blob = new Blob([file], { type: file.type });

      const result = await client.predict("/predict", { img: blob });

      console.log("Prediction Result:", result);

      if (result?.data?.label) {
        document.getElementById("results").innerHTML = `
          <br/>
          <img src="${URL.createObjectURL(file)}" width="300">
          <p>Prediction: ${result.data.label}</p>
        `;
      } else {
        throw new Error("Unexpected API response format.");
      }
    } catch (error) {
      console.error("Error:", error);
      document.getElementById("results").innerHTML = `<p>Error: ${error.message}</p>`;
    }
  }

  document.getElementById("photo").addEventListener("change", readAndPredict);
</script>

