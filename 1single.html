---
title: 1. Animals-10 picture classifier
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script>
  async function loaded(file) {
    try {
      const formData = new FormData();
      formData.append('img', file);

      // Make the POST request
      const response = await fetch('https://hf.space/embed/Furiek/animal_detector/api/predict/', {
        method: "POST",
        body: formData,
      });

      const json = await response.json();
      const label = json?.label || "Unknown";
      const confidences = json?.confidences || [];

      const confidenceDetails = confidences
        .map(conf => `<li>${conf.label}: ${(conf.confidence * 100).toFixed(2)}%</li>`)
        .join("");
      results.innerHTML = `
        <br/>
        <img src="${URL.createObjectURL(file)}" width="300">
        <p><strong>Label:</strong> ${label}</p>
        <ul>${confidenceDetails}</ul>
      `;
    } catch (error) {
      console.error("Error using the API:", error);
      results.innerHTML = `<p style="color: red;">error processing image</p>`;
    }
  }

  document.getElementById('photo').addEventListener('input', (event) => {
    const file = event.target.files[0];
    if (file) {
      loaded(file);
    }
  });
</script>
