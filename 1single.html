---
title: 1. Animals-10 Classifier
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { client } from 'https://cdn.jsdelivr.net/npm/@gradio/client@2.3.1/+esm'

  async function readAndPredict() {
    try {
      const fileInput = document.getElementById("photo");
      if (!fileInput.files[0]) {
        throw new Error("No file selected.");
      }

      // Show loading state
      document.getElementById("results").innerHTML = "Loading...";

      const gradioClient = await client("Furiek/animal_detector");
      const file = fileInput.files[0];

      const result = await gradioClient.predict("/predict", { 
        data: [file],
      });

      console.log("Prediction Result:", result);

      if (result.data) {
        document.getElementById("results").innerHTML = `
          <br/>
          <img src="${URL.createObjectURL(file)}" width="300">
          <p>Prediction: ${result.data}</p>
        `;
      } else {
        throw new Error("Unexpected API response format.");
      }
    } catch (error) {
      console.error("Error:", error);
      document.getElementById("results").innerHTML = `<p>Error: ${error.message}</p>`;
    }
  }

  document.getElementById("photo").addEventListener("change", readAndPredict);
</script>