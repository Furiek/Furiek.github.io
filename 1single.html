---
title: 1. Animals-10 Classifier
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { client } from 'https://esm.sh/@gradio/client@1.5.2'

  async function readAndPredict() {
    try {
      const fileInput = document.getElementById("photo");
      if (!fileInput.files[0]) {
        throw new Error("No file selected.");
      }

      // Show loading state
      document.getElementById("results").innerHTML = "Loading...";

      const gradioClient = await client("https://furiek-animal-detector.hf.space");
      const file = fileInput.files[0];

      const result = await gradioClient.predict(
        "/predict",
        [file]
      );

      console.log("Prediction Result:", result);

      document.getElementById("results").innerHTML = `
        <br/>
        <img src="${URL.createObjectURL(file)}" width="300">
        <p>Predicted: ${result.data.label}</p>
        <p>Confidence: ${(result.data.confidences[0].confidence * 100).toFixed(2)}%</p>
      `;
    } catch (error) {
      console.error("Error:", error);
      document.getElementById("results").innerHTML = `<p>Error: ${error.message}</p>`;
    }
  }

  document.getElementById("photo").addEventListener("change", readAndPredict);
</script>